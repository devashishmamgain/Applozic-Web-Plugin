<html>
    <head>
        <!-- Custom CSS -->
        <link href="css/mck-combined.min.css" rel="stylesheet">
        <link href="css/app/mck-sidebox-1.0.css" rel="stylesheet">

        <link rel="stylesheet" href="css/reset.css">
        <link rel="stylesheet" href="css/style.css">
        <!-- Custom JS -->
        <script type="text/javascript">
            var $original;
            if (typeof jQuery !== 'undefined') {
                $original = jQuery.noConflict(true);
                $ = $original;
                jQuery = $original;
            }
        </script>
        <script src="js/jquery-2.2.2.min.js"></script>
    </head>
    <body>

      <div class="wrapper">
      <div class="container">
          <div class="left">
              <div class="top">
                  <input type="text" id="mck-search" data-provide="typeahead" placeholder="Search..." autofocus />

                  <a href="javascript:;" id="mck-msg-new" class="search"></a>
              </div>
              <ul id="mck-contact-list" class="people">
                  <!--
                  <li id="li-user-nitin" class="person nitin" data-chat="person1" data-msg-time="1468413476857">
                      <img src="http://s13.postimg.org/ih41k9tqr/img1.jpg" alt="" />
                      <span class="name">Nitin</span>
                      <span class="time">2:09 PM</span>
                      <span class="preview">I was wondering...</span>
                  </li>
                -->
              </ul>
          </div>
          <div class="right">
              <div class="top"><span>To: <span class="name"></span></span></div>

            <div id="mck-message-cell">
              <div id="conversation-section">
                <div class="chat mck-message-inner" data-mck-id="${contIdExpr}"></div>
                <!--
                <div class="chat" data-mck-id="person1">
                    <div class="conversation-start">
                        <span>Today, 6:48 AM</span>
                    </div>
                    <div class="bubble you">
                        Hello,
                    </div>
                    <div class="bubble me">
                        it's me.
                    </div>
                </div>
                <div class="chat" data-mck-id="person2">
                    <div class="conversation-start">
                        <span>Today, 5:38 PM</span>
                    </div>
                    <div class="bubble you">
                        I've forgotten how it felt before
                    </div>
                </div>
              -->
              </div>
            </div>


              <div class="write">
                <!-- Create message send form -->

                <div id="mck-file-menu" class="mck-file-menu">
                    <div class="mck-row">
                        <div class="blk-lg-6 mck-left mck-pt10">
                            <a id="mck-file-up" class="mck-btn-text-panel mck-file-upload" href="#">
                                <div class="mck-menu-icon">
                                    <span class="mck-icon-photo"></span>
                                </div>
                                <p class="mck-truncate" title="File &amp; Photos">Files &amp; Photos</p>
                            </a>
                        </div>
                        <div class="blk-lg-6 mck-pt10">
                            <a id="mck-btn-loc" href="#" class="mck-btn-loc">
                                <div class="mck-menu-icon">
                                    <span class="mck-icon-marker-blue"></span>
                                </div>
                                <p class="mck-truncate" title="Location">Location</p>
                            </a>
                        </div>
                    </div>
                </div>
                <div id="mck-sidebox-ft" class="mck-box-ft">
                    <div class="mck-box-form n-vis mck-right">
                        <p id="mck-msg-error" class="mck-sidebox-error n-vis"></p>
                        <div id="mck-msg-response" class="mck-box-response n-vis">
                            <div id="mck-response-text" class="response-text"></div>
                        </div>
                        <form id="mck-msg-form" class="vertical mck-msg-form">

                          <div class="mck-form-group n-vis">
                              <label class="sr-only placeholder-text control-label" for="mck-msg-to">To:</label>
                              <input class="mck-form-cntrl" id="mck-msg-to" name="mck-msg-to" placeholder="To" required>
                          </div>

                          <input id="mck-file-input" class="mck-file-input n-vis" type="file" name="files[]">

                          <div id="mck-file-box" class="n-vis"></div>
                          <a href="#" type="button" id="mck-btn-attach" class="write-link attach n-vis mck-btn-text-panel mck-btn-attach" aria-expanded="true" title="Attach File">
                          </a>
                          <a href="#" id="mck-file-up2" type="button" class="write-link attach n-vis mck-file-upload mck-btn-text-panel" title="Attach File">
                          </a>

                          <span id="mck-text-box" contenteditable="true" class="mck-text-box mck-text required"></span>

                          <a href="#" type="button" id="mck-btn-smiley" class="write-link smiley mck-btn-smiley mck-btn-text-panel" title="Smiley"></a>

                          <a href="#" type="submit" id="mck-msg-sbmt" class="write-link send mck-btn-text-panel" title="Send Message"></a>


                        </form>
                    </div>
                </div>

                <!--
                  <a href="javascript:;" class="write-link attach"></a>
                  <input id="mck-text-box" type="text" />
                  <a href="javascript:;" id = "mck-btn-smiley" class="write-link smiley"></a>
                  <a href="javascript:;" class="write-link send"></a>
                -->
              </div>
          </div>
      </div>
  </div>

<!-- Dummy div as js is dependent on mck-sidebox -->
  <div id ="mck-sidebox"></div>


        <script type="text/javascript" src="js/mck-ui-plugins.min.js"></script>
        <script type="text/javascript" src="js/mck-ui-widget.min.js"></script>
        <script type="text/javascript" src="js/mck-emojis.min.js"></script>
        <script type="text/javascript" src="js/mck-socket.min.js"></script>
        <script type="text/javascript" src="https://maps.google.com/maps/api/js?key=AIzaSyDKfWHzu9X7Z2hByeW4RRFJrD9SizOzZt4&libraries=places"></script>
        <script type="text/javascript" src="js/locationpicker.jquery.min.js"></script>
        <script type="text/javascript" src="js/app/chat.js"></script>
        <script type="text/javascript">
            var oModal = "";
            if (typeof $original !== 'undefined') {
                $ = $original;
                jQuery = $original;
                if (typeof $.fn.modal === 'function') {
                    oModal = $.fn.modal.noConflict();
                }
            } else {
                $ = $applozic;
                jQuery = $applozic;
                if (typeof $applozic.fn.modal === 'function') {
                    oModal = $applozic.fn.modal.noConflict();
                }
            }
        </script>
        <script type="text/javascript">
            //var $applozic = jQuery.noConflict(true);
            //Sample json contains display name and photoLink for userId
            var contacts = {"user1": {"displayName": "Devashish", "imageLink": "https://www.applozic.com/resources/images/applozic_icon.png"}, "user2": {"displayName": "Adarsh", "imageLink": "https://www.applozic.com/resources/images/applozic_icon.png"}, "user3": {"displayName": "Shanki", "imageLink": "https://www.applozic.com/resources/images/applozic_icon.png"}};
            function readMessage() {
                //console.log(userId);
            }
            //Callback Function to return display name by userId
          /*  function displayName(userId) {
                //Todo: replace this with users display name
                var contact = contacts[userId];   // contacts sample given above
                if (typeof contact !== 'undefined') {
                    return contact.displayName;
                }
            }*/
            //Callback Function to return contact image url by userId
          /*  function contactImageSrc(userId) {
                var contact = contacts[userId]; // contacts sample given above
                if (typeof contact !== 'undefined') {
                    return contact.imageLink;
                }
            }*/
            //callback function execute after plugin initialize.
            function onInitialize(status) {
                if (status === 'success') {
                    //write your logic exectute after plugin initialize.
                    $applozic.fn.applozic('loadTab', '');
                }
            }
            $(document).ready(function () {
                //Function to initialize plugin
                $applozic.fn.applozic({userId: 'devashish@applozic.com', userName: 'Devashish', appId: 'applozic-sample-app',
                    ojq: $original,
                    obsm: oModal,
                    notificationIconLink: "https://www.applozic.com/resources/images/applozic_icon.png",
                    readConversation: readMessage, // readMessage function defined above
                    onInit: onInitialize, //callback function execute on plugin initialize
                    maxAttachmentSize: 25, //max attachment size in MB
                    desktopNotification: true,
                    locShare: true,
                    googleApiKey: "AIzaSyDKfWHzu9X7Z2hByeW4RRFJrD9SizOzZt4"
                });

                // var contactjson = {"contacts": [{"userId": "user1", "displayName": "Devashish", "imageLink": "https://www.applozic.com/resources/images/applozic_icon.png"}, {"userId": "user2", "displayName": "Adarsh", "imageLink": "https://www.applozic.com/resources/images/applozic_icon.png"}, {"userId": "user3", "displayName": "Shanki", "imageLink": "https://www.applozic.com/resources/images/applozic_icon.png"}]};
                // To load contact list use below function and pass contacts json in format shown above in variable 'contactjson'.
                // $applozic.fn.applozic('loadContacts', contactjson);
    });
        </script>

        <script src="js/index.js"></script>

    </body>
</html>
